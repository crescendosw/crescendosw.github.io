(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a,i=n(8),r=n.n(i),s=n(10),l=n.n(s),o=(n(18),n(19),n(1)),u=n(2),c=n(3),d=n(5),p=n(4),m=n(11),b=n.n(m),j=n(12),h=n(13),g=n(6);var v=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).initialTempo=void 0,a.songLength=void 0,a.state={playing:!1,initialTempo:0,songLength:0},a._play=a._play.bind(Object(c.a)(a)),a}return Object(u.a)(n,[{key:"_play",value:function(){var e=this;if(this.state.playing)return a.pause(),void this.setState({playing:!1});this.setState({playing:!0});var t=new h.a,n={},i=window.navigator.userAgent.includes("Mobile")?"acoustic_grand_piano-mp3.js":"acoustic_grand_piano-ogg.js";b.a.instrument(t,i).then((function(i){var r=function(r){var s,l;console.log("loadArrayBuffer ".concat(r.byteLength)),(a=new j.a.Player((function(e){var a=100;if("Note on"===e.name){switch(e.channel){case 1:a=e.velocity*(function(){var e=document.getElementById("soprano-slider").value;return Number(e)}()/10);break;case 2:a=e.velocity*(function(){var e=document.getElementById("alto-slider").value;return Number(e)}()/10);break;case 3:a=e.velocity*(function(){var e=document.getElementById("tenor-slider").value;return Number(e)}()/10);break;case 4:a=e.velocity*(function(){var e=document.getElementById("bass-slider").value;return Number(e)}()/10)}var r=i.play(e.noteName,t.currentTime,{gain:a});n[e.channel]&&n[e.channel].stop(),n[e.channel]=r}else"Note off"===e.name&&n[e.channel]&&(n[e.channel].stop(),delete n[e.channel])}))).loadArrayBuffer(r),s=195,e.setState({initialTempo:s}),l=a.getSongTime(),e.setState({songLength:l}),a.play()};console.log("instrument loaded"),fetch("447_and_can_it_be.mid").then((function(e){return e.arrayBuffer()})).then((function(e){return r(e)}))}))}},{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("form",{id:"slider-form",children:[Object(g.jsx)("label",{children:"Soprano:"}),Object(g.jsx)("input",{type:"range",id:"soprano-slider",className:"sliders",defaultValue:1,min:0,max:2,step:.01}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{children:"Alto:"}),Object(g.jsx)("input",{type:"range",id:"alto-slider",className:"sliders",defaultValue:1,min:0,max:2,step:.01}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{children:"Tenor:"}),Object(g.jsx)("input",{type:"range",id:"tenor-slider",className:"sliders",defaultValue:1,min:0,max:2,step:.01}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{children:"Bass:"}),Object(g.jsx)("input",{type:"range",id:"bass-slider",className:"sliders",defaultValue:1,min:0,max:2,step:.01}),Object(g.jsx)("br",{}),Object(g.jsx)("label",{children:"Tempo:"}),Object(g.jsx)("input",{type:"range",id:"tempo-slider",defaultValue:.5,min:0,max:1,step:.01}),Object(g.jsx)("br",{})]}),Object(g.jsx)("output",{children:"Tempo: "}),Object(g.jsx)("output",{id:"tempo-output",children:this.state.initialTempo}),Object(g.jsx)("output",{children:"Time: "}),Object(g.jsx)("output",{id:"duration-output",children:"0"}),Object(g.jsxs)("div",{id:"bottom-div",children:[Object(g.jsx)("input",{type:"range",id:"duration-slider",defaultValue:0,min:0,max:this.state.songLength,step:.01}),Object(g.jsx)("br",{}),Object(g.jsx)("button",{id:"play-button",onClick:this._play,children:this.state.playing?"pause":"play"})]})]})}},{key:"componentDidMount",value:function(){var e,t=this,n=document.getElementById("tempo-slider"),i=document.getElementById("tempo-output"),r=document.getElementById("duration-slider"),s=document.getElementById("duration-output");n.addEventListener("input",(function(){Number(n.value)<.5?e=t.state.initialTempo*(1.5*Number(n.value)+.25):.5===Number(n.value)?e=t.state.initialTempo:Number(n.value)>.5&&(e=t.state.initialTempo*(6*Number(n.value)-2)),i.innerHTML=Math.round(e).toString(),n.addEventListener("mouseup",(function(){a.setTempo(e)}))})),r.addEventListener("input",(function(){s.innerHTML=r.value.toString(),r.addEventListener("mouseup",(function(){a.skipToPercent(Number(r.value)/a.getSongTime())}))}))}}]),n}(r.a.Component);var f=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)("header",{className:"App-header",children:Object(g.jsx)(v,{})})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),r(e),s(e)}))};l.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(f,{})}),document.getElementById("root")),y()}},[[49,1,2]]]);
//# sourceMappingURL=main.4b7e95ac.chunk.js.map